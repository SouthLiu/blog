# MySQL
### 配置数据库：
```python
  DATABASES = {
    'default': {
      # 配置数据库引擎 ， 使用 MySQL 数据库
      'ENGINE': 'django.db.backends.mysql',
      'HOST' : '127.0.0.1',
      'USER' : 'root',
      'PASSWORD' : 'root',
      # 配置连接的数据库 ， 数据库必须先创建 ， 才可以进行链接
      'NAME' : 'django_orm'
    }
  }
```

### 获取数据：
```python
from django.http import HttpResponse
from django.db import connection

def index(request):
    # 获取游标对象
    cursor = connection.cursor()
    # 执行SQL语句
    cursor.execute("SELECT * FROM book")
    # 获取查询结果
    result = cursor.fetchall()
    # 遍历查询结果
    for row in result:
        print(row)
    return HttpResponse("打印查询数据.")
```

# ORM模型
### 通过ORM创建数据库：
```python
# book/models.py
from django.db import models

# Create your models here.

class Book(models.Model):
    title = models.CharField(max_length=100)
    author = models.CharField(max_length=100)
    genre = models.CharField(max_length=100)
    publication_date = models.DateField(auto_now_add=True)
```
```python
# mysite/settings.py
INSTALLED_APPS = [
    'book', # 新增
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]
```

### 生成数据库表：
```python
python manage.py makemigrations book
python manage.py migrate
```

首次执行完，删除部分表，在重新执行`python manage.py migrate`没反应，待研究。
